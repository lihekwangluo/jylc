// JavaScript Document

	var cityId = 0;	
	$(function(){
		$('.acity').click(function(){
			$('.city').show();
			$('.mask').show();
		});
		$('.cityul b').click(function(){
			var test=$(this).html();
		
			if($(this).attr("city") == undefined){ $(this).attr("city", window.cityId++);}
			var city = $(this).attr("city");
			if( $('input[city="'+ city +'"]').size()){
				$('input[city="'+ city +'"]').parent().remove();
			} else {
				var ml=$('.cityshow li').length;
				if(ml>0){
					alert('最多只能添加1个');
				}else{
					var test=$(this).html();
					$('<li class="licity"><input  name="citychk" type="checkbox" checked="true" city="'+ city +'" class="check"><b>'+test+'</b></li>').appendTo('.cityshow ul');
				}
			}
			
			$('input[name=citychk]').click(function(){
				$(this).parent('.licity').remove();
			});
			
		});	
		$('.ok').click(function(){
				
				var total="";
				if($('.cityshow ul li').text()=='')
				{
					$('.city').hide();
					$('.mask').hide();
				}else{
					$('.cityshow ul li').each(function(){
						total += (total.length > 0 ? "+" : "" ) + $(this).text();
					});
					$('.acity').text(total);
					$('.city').hide();
					$('.mask').hide();
				}
				
				
			})
	
	})
 